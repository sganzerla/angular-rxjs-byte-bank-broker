{"version":3,"file":"po-lookup-base.component.d.ts","sources":["po-lookup-base.component.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA","sourcesContent":["import { AbstractControl, ControlValueAccessor, Validator } from '@angular/forms';\nimport { EventEmitter, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { PoLookupColumn } from './interfaces/po-lookup-column.interface';\nimport { PoLookupFilter } from './interfaces/po-lookup-filter.interface';\nimport { PoLookupFilterService } from './services/po-lookup-filter.service';\nimport { PoLookupLiterals } from './interfaces/po-lookup-literals.interface';\n/**\n * @description\n *\n * Componente utilizado para abrir uma janela de busca com uma tabela que lista dados de um serviço. Nesta janela é possível buscar e\n * selecionar o registro que será enviado para o campo. O `po-lookup` permite que o usuário digite um valor e pressione a tecla *TAB* para\n * buscar um registro.\n *\n * > Caso o campo seja iniciado ou preenchido com um valor inexistente na busca, o mesmo será limpado.\n * No segundo caso ocorrerá após este perder o foco; ambos os casos o campo ficará inválido quando requerido.\n *\n * Este componente não é recomendado quando a busca dos dados possuir poucas informações, para isso utilize outros componentes como o\n * `po-select` ou o `po-combo`.\n */\nexport declare abstract class PoLookupBaseComponent implements ControlValueAccessor, OnDestroy, OnInit, Validator {\n    private defaultService;\n    private _disabled?;\n    private _filterService;\n    private _noAutocomplete;\n    private _required?;\n    protected getSubscription: Subscription;\n    protected keysDescription: Array<any>;\n    protected oldValue: string;\n    protected valueToModel: any;\n    private onChangePropagate;\n    private onTouched;\n    private validatorChange;\n    service: any;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Aplica foco no elemento ao ser iniciado.\n     *\n     * > Caso mais de um elemento seja configurado com essa propriedade, apenas o último elemento declarado com ela terá o foco.\n     *\n     * @default `false`\n     */\n    autoFocus: boolean;\n    /**\n     * Label do campo.\n     *\n     * > Quando utilizar esta propriedade o seu valor será utilizado como título da modal do componente caso não tenha\n     * sido definido um `modalTitle` na propriedade `p-literals`.\n     */\n    label?: string;\n    /**\n     * @description\n     *\n     * Objeto com as literais usadas no `po-lookup`.\n     *\n     * Existem duas maneiras de customizar o componente, passando um objeto com todas as literais disponíveis:\n     *\n     * ```\n     *  const customLiterals: PoLookupLiterals = {\n     *    modalPrimaryActionLabel: 'Select',\n     *    modalSecondaryActionLabel: 'Cancel',\n     *    modalPlaceholder: 'Search Value',\n     *    modalTableNoColumns: 'No columns',\n     *    modalTableNoData: 'No data',\n     *    modalTableLoadingData: 'Loading data',\n     *    modalTableLoadMoreData: 'Load more',\n     *    modalTitle: 'Select a user'\n     *  };\n     * ```\n     *\n     * Ou passando apenas as literais que deseja customizar:\n     *\n     * ```\n     *  const customLiterals: PoLookupLiterals = {\n     *    modalPrimaryActionLabel: 'Select'\n     *  };\n     * ```\n     *\n     * E para carregar as literais customizadas, basta apenas passar o objeto para o componente.\n     *\n     * ```\n     * <po-lookup\n     *   [p-literals]=\"customLiterals\">\n     * </po-lookup>\n     * ```\n     *\n     * > O objeto padrão de literais será traduzido de acordo com o idioma do\n     * [`PoI18nService`](/documentation/po-i18n) ou do browser.\n     */\n    literals?: PoLookupLiterals;\n    /** Texto de apoio do campo. */\n    help?: string;\n    /** Mensagem que aparecerá enquanto o campo não estiver preenchido. */\n    placeholder?: string;\n    /** Nome e Id do componente. */\n    name: string;\n    /**\n     * @description\n     *\n     * Indica a coluna que será utilizada como valor do campo.\n     *\n     * > Atenção: Caso não seja passada ou tenha o conteúdo incorreto, não irá atualizar o model do formulário.\n     */\n    fieldValue: string;\n    /** Indica a coluna que será utilizada como descrição do campo e como filtro dentro da janela. */\n    fieldLabel: string;\n    /** Valor que será repassado como parâmetro para a URL ou aos métodos do serviço que implementam a interface `PoLookupFilter`. */\n    filterParams?: any;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Formato de exibição do campo.\n     *\n     * Recebe uma função que deve retornar uma *string* com o/os valores do objeto formatados para exibição, por exemplo:\n     *\n     * ```\n     * fieldFormat(obj) {\n     *   return `${obj.id} - ${obj.name}`;\n     * }\n     * ```\n     * > Esta propriedade sobrepõe o valor da propriedade `p-field-label` na descrição do campo.\n     */\n    fieldFormat?: (value: any) => string;\n    /**\n     * Lista das colunas da tabela.\n     * Essa propriedade deve receber um array de objetos que implementam a interface PoLookupColumn.\n     */\n    columns?: Array<PoLookupColumn>;\n    /**\n     * Serviço responsável por buscar os dados da tabela na janela. Pode ser informado um serviço que implemente a interface\n     * `PoLookupFilter` ou uma URL.\n     *\n     * Quando utilizada uma URL de um serviço, será concatenada nesta URL o valor que deseja-se filtrar, por exemplo:\n     *\n     * ```\n     * url + ?page=1&pageSize=20&filter=Peter\n     * ```\n     *\n     * Caso utilizar ordenação, a coluna ordenada será enviada através do parâmetro `order`, por exemplo:\n     * - Coluna decrescente:\n     * ```\n     *  url + ?page=1&pageSize=20&filter=Peter&order=-name\n     * ```\n     *\n     * - Coluna ascendente:\n     * ```\n     *  url + ?page=1&pageSize=20&filter=Peter&order=name\n     * ```\n     *\n     * Se for definido a propriedade `p-filter-params`, o mesmo também será concatenado. Por exemplo, para o\n     * parâmetro `{ age: 23 }` a URL ficaria:\n     *\n     * ```\n     * url + ?page=1&pageSize=20&age=23&filter=Peter\n     * ```\n     *\n     * > Esta URL deve retornar e receber os dados no padrão de [API do PO UI](https://po-ui.io/guides/api) e utiliza os valores\n     * definidos nas propriedades `p-field-label` e `p-field-value` para a construção do `po-lookup`.\n     */\n    set filterService(filterService: PoLookupFilter | string);\n    get filterService(): PoLookupFilter | string;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define a propriedade nativa `autocomplete` do campo como `off`.\n     *\n     * @default `false`\n     */\n    set noAutocomplete(value: boolean);\n    get noAutocomplete(): boolean;\n    /**\n     * @optional\n     *\n     * @description\n     *\n     * Define se a indicação de campo opcional será exibida.\n     *\n     * > Não será exibida a indicação se:\n     * - O campo conter `p-required`;\n     * - Não possuir `p-help` e/ou `p-label`.\n     *\n     * @default `false`\n     */\n    optional: boolean;\n    /**\n     * @optional\n     * @description\n     *\n     * Indica que o campo será obrigatório. Esta propriedade é desconsiderada quando o campo está desabilitado (p-disabled).\n     *\n     * @default `false`\n     */\n    set required(required: boolean);\n    get required(): boolean;\n    /**\n     * @description\n     *\n     * Indica que o campo será desabilitado.\n     *\n     * @default false\n     * @optional\n     */\n    set disabled(disabled: boolean);\n    get disabled(): boolean;\n    /**\n     * Evento será disparado quando ocorrer algum erro na requisição de busca do item.\n     * Será passado por parâmetro o objeto de erro retornado.\n     */\n    onError?: EventEmitter<any>;\n    /**\n     * Evento será disparado quando ocorrer alguma seleção.\n     * Será passado por parâmetro o objeto com o valor selecionado.\n     */\n    selected?: EventEmitter<any>;\n    constructor(defaultService: PoLookupFilterService);\n    ngOnDestroy(): void;\n    ngOnInit(): void;\n    private initializeColumn;\n    registerOnValidatorChange(fn: () => void): void;\n    registerOnChange(func: any): void;\n    registerOnTouched(func: any): void;\n    selectValue(valueSelected: any): void;\n    callOnChange(value: any): void;\n    searchById(value: string): void;\n    validate(abstractControl: AbstractControl): {\n        [key: string]: any;\n    };\n    writeValue(value: any): void;\n    abstract setViewValue(value: any, object: any): void;\n    abstract openLookup(): void;\n    protected cleanModel(): void;\n    protected cleanViewValue(): void;\n    protected getFormattedLabel(value: any): string;\n    protected selectModel(value: any): void;\n    protected validateModel(model: any): void;\n    private setService;\n}\n"]}