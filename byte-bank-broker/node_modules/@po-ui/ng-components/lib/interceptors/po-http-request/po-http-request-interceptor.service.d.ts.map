{"version":3,"file":"po-http-request-interceptor.service.d.ts","sources":["po-http-request-interceptor.service.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA","sourcesContent":["import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { PoComponentInjectorService } from '../../services/po-component-injector/po-component-injector.service';\nimport { PoHttpRequesControltService } from './po-http-request-control-service';\n/**\n * @description\n *\n * O serviço PO Http Request Interceptor realiza a contabilização de requisições pendentes na aplicação.\n *\n * Existe a possibilidade de não efetuar a contabilização das requisições pendentes, utilizando o parâmetro\n * `X-PO-No-Count-Pending-Requests`. Para isso deve ser informado no cabeçalho da requisição com o valor `'true'`,\n * por exemplo:\n *\n * ```\n * ...\n *  const headers = { 'X-PO-No-Count-Pending-Requests': 'true' };\n *\n *  this.http.get(`/customers/1`, { headers: headers });\n * ...\n *\n * ```\n * Para obter a quantidade de requisições pendentes, deve inscrever-se no método `getCountPendingRequests` do\n * serviço `PoHttpRequestInterceptorService`, com isso, ao realizar requisições utilizando `HttpClient`,\n * será retornado a quantidade de requisições pendentes.\n *\n * Também existe a possibildade de travar a tela e mostrar uma imagem de _loading_ durante o processamento de uma requisição\n * deve-se passar o parâmetro `X-PO-Screen-Lock` no cabeçalho da requisição com valor `'true'`.\n *\n * por exemplo:\n *\n * ```\n * ...\n *  const headers = { 'X-PO-Screen-Lock': 'true' };\n *\n *  this.http.get(`/customers/1`, { headers: headers });\n * ...\n *\n * ```\n * > Após a validação no interceptor, o parâmetro será removido do cabeçalho da requisição.\n *\n * Ao importar o módulo `PoModule` na aplicação, o `po-http-request-interceptor` é automaticamente configurado sem a necessidade\n * de qualquer configuração extra.\n *\n *\n * Segue abaixo um exemplo de uso:\n *\n * ```\n * import { HttpClient } from '@angular/common/http';\n *\n * ...\n *\n * @Injectable()\n * export class CustomersService {\n *\n *  headers = { 'X-PO-No-Count-Pending-Requests': true, 'X-PO-Screen-Lock': 'true' }\n *  pendingRequests: number = 0;\n *  subscription: Subscription;\n *\n *  constructor(\n *    private http: HttpClient,\n *    private httpRequestInterceptor: PoHttpRequestInterceptorService) { }\n *\n *  ngOnDestroy(): void {\n *    this.subscription.unsubscribe();\n *  }\n *\n *  ngOnInit(): void {\n *    this.subscription = this.httpRequestInterceptor.getCountPendingRequests().subscribe(data => {\n *      this.pendingRequests = data;\n *    });\n *  }\n *\n *  getCustomers() {\n *    return this.http.get(`/customers/1`, { headers: headers });\n *  }\n *\n *  ...\n *\n * }\n * ```\n *\n * @example\n * <example name='po-http-request-interceptor-labs' title='PO Http Request Interceptor Labs'>\n *  <file name='sample-po-http-request-interceptor-labs.component.ts'> </file>\n *  <file name='sample-po-http-request-interceptor-labs.component.html'> </file>\n * </example>\n */\nexport declare class PoHttpRequestInterceptorService implements HttpInterceptor {\n    private controlHttpRequest;\n    private poComponentInjector;\n    private loadingOverlayComponent;\n    private pendingRequests;\n    private overlayRequests;\n    constructor(controlHttpRequest: PoHttpRequesControltService, poComponentInjector: PoComponentInjectorService);\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>;\n    getCountPendingRequests(): Observable<any>;\n    private buildLoading;\n    private destroyLoading;\n    private requestCloneWithoutHeaderParam;\n    private setCountPendingRequests;\n    private setCountOverlayRequests;\n}\n"]}